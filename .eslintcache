[{"C:\\temp\\templar\\postapp\\client\\src\\index.js":"1","C:\\temp\\templar\\postapp\\client\\src\\App.js":"2","C:\\temp\\templar\\postapp\\client\\src\\reportWebVitals.js":"3","C:\\temp\\templar\\postapp\\client\\src\\config.js":"4","C:\\temp\\templar\\postapp\\client\\src\\pages\\Login.js":"5","C:\\temp\\templar\\postapp\\client\\src\\pages\\Home.js":"6","C:\\temp\\templar\\postapp\\client\\src\\pages\\Register.js":"7","C:\\temp\\templar\\postapp\\client\\src\\components\\MenuBar.js":"8","C:\\temp\\templar\\postapp\\client\\src\\components\\PostCard.js":"9","C:\\temp\\templar\\postapp\\client\\src\\util\\hook.js":"10","C:\\temp\\templar\\postapp\\client\\src\\context\\auth.js":"11","C:\\temp\\templar\\postapp\\client\\src\\util\\AuthRoute.js":"12","C:\\temp\\templar\\postapp\\client\\src\\components\\PostForm.js":"13","C:\\temp\\templar\\postapp\\client\\src\\util\\grahpql.js":"14","C:\\temp\\templar\\postapp\\client\\src\\components\\LikeButton.js":"15","C:\\temp\\templar\\postapp\\client\\src\\components\\DeleteButton.js":"16","C:\\temp\\templar\\postapp\\client\\src\\pages\\SinglePost.js":"17","C:\\temp\\templar\\postapp\\client\\src\\components\\DeleteComment.js":"18"},{"size":1091,"mtime":1611717570680,"results":"19","hashOfConfig":"20"},{"size":919,"mtime":1611542670547,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":499162500000,"results":"22","hashOfConfig":"20"},{"size":55,"mtime":1610891594087,"results":"23","hashOfConfig":"20"},{"size":2505,"mtime":1611364648383,"results":"24","hashOfConfig":"20"},{"size":1304,"mtime":1611452084117,"results":"25","hashOfConfig":"20"},{"size":3442,"mtime":1611364642658,"results":"26","hashOfConfig":"20"},{"size":1544,"mtime":1611365906358,"results":"27","hashOfConfig":"20"},{"size":1959,"mtime":1611801666537,"results":"28","hashOfConfig":"20"},{"size":434,"mtime":1611282795210,"results":"29","hashOfConfig":"20"},{"size":1491,"mtime":1611366925349,"results":"30","hashOfConfig":"20"},{"size":455,"mtime":1611367895029,"results":"31","hashOfConfig":"20"},{"size":2574,"mtime":1611451680985,"results":"32","hashOfConfig":"20"},{"size":342,"mtime":1611371977537,"results":"33","hashOfConfig":"20"},{"size":1600,"mtime":1611803235495,"results":"34","hashOfConfig":"20"},{"size":2444,"mtime":1611802592397,"results":"35","hashOfConfig":"20"},{"size":6709,"mtime":1611802967229,"results":"36","hashOfConfig":"20"},{"size":1246,"mtime":1611718109171,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"m2n54z",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\temp\\templar\\postapp\\client\\src\\index.js",[],"C:\\temp\\templar\\postapp\\client\\src\\App.js",[],["76","77"],"C:\\temp\\templar\\postapp\\client\\src\\reportWebVitals.js",[],"C:\\temp\\templar\\postapp\\client\\src\\config.js",[],"C:\\temp\\templar\\postapp\\client\\src\\pages\\Login.js",[],"C:\\temp\\templar\\postapp\\client\\src\\pages\\Home.js",[],"C:\\temp\\templar\\postapp\\client\\src\\pages\\Register.js",[],"C:\\temp\\templar\\postapp\\client\\src\\components\\MenuBar.js",[],"C:\\temp\\templar\\postapp\\client\\src\\components\\PostCard.js",[],"C:\\temp\\templar\\postapp\\client\\src\\util\\hook.js",[],"C:\\temp\\templar\\postapp\\client\\src\\context\\auth.js",[],"C:\\temp\\templar\\postapp\\client\\src\\util\\AuthRoute.js",[],"C:\\temp\\templar\\postapp\\client\\src\\components\\PostForm.js",["78"],"import React,{useState} from 'react'\r\nimport { gql, useMutation} from \"@apollo/client\";\r\nimport { Button, Form } from 'semantic-ui-react'\r\nimport {useForm} from '../util/hook'\r\nimport {FETCH_POSTS_QUERY} from '../util/grahpql';\r\n\r\nfunction PostForm() {\r\n    const [errors, setErrors] = useState({})\r\n    const {values, onChange, onSubmit} = useForm(createPostCallback, {\r\n        body: ''\r\n    });\r\n\r\n    const [ createPost, {error} ] = useMutation(CREATE_POST_MUTATION, {\r\n        onError(err){\r\n            setErrors(err.graphQLErrors[0].extensions.exception.errors);\r\n         },\r\n        variables: values,\r\n        update(proxy, result){\r\n           const data = proxy.readQuery({\r\n                query: FETCH_POSTS_QUERY\r\n            })\r\n            /*data.getPosts = [result.data.createPost, ...data.getPosts]\r\n            proxy.writeQuery({ query: FETCH_POSTS_QUERY, data })\r\n            */\r\n            let newData = [...data.getPosts];\r\n            newData = [result.data.createPost, ...newData];\r\n            proxy.writeQuery({\r\n              query: FETCH_POSTS_QUERY,\r\n              data: {\r\n                ...data,\r\n                getPosts: {\r\n                   newData,\r\n                },\r\n              },\r\n           });\r\n            values.body = ''\r\n        }\r\n    })\r\n    function createPostCallback() {\r\n        createPost();\r\n    }\r\n    return (\r\n        <>\r\n           <Form onSubmit={onSubmit}>\r\n            <h2>New Post:</h2>\r\n            <Form.Field>\r\n                <Form.Input\r\n                   placeholder='My World'\r\n                   name='body'\r\n                   onChange={onChange}\r\n                   value={values.body}\r\n                   error={error ? true : false}\r\n                />\r\n                <Button type='submit' color='teal'>\r\n                    Post\r\n                </Button>\r\n            </Form.Field>\r\n            </Form>\r\n            {error && (\r\n               <div className='ui error message' style={{marginBottom: 20}}>\r\n                 <ul className='list'>\r\n                     <li>{error.graphQLErrors[0].message}</li>\r\n                 </ul>\r\n               </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nconst CREATE_POST_MUTATION = gql`\r\n   mutation createPost($body: String!){\r\n       createPost(body: $body){\r\n           id body createdAt username\r\n           likes{\r\n               id username createdAt\r\n           }\r\n           likeCount\r\n           comments{\r\n               id body username createdAt\r\n           }\r\n           commentCount\r\n       }\r\n   }\r\n`\r\n\r\nexport default PostForm;","C:\\temp\\templar\\postapp\\client\\src\\util\\grahpql.js",[],"C:\\temp\\templar\\postapp\\client\\src\\components\\LikeButton.js",[],"C:\\temp\\templar\\postapp\\client\\src\\components\\DeleteButton.js",[],"C:\\temp\\templar\\postapp\\client\\src\\pages\\SinglePost.js",[],"C:\\temp\\templar\\postapp\\client\\src\\components\\DeleteComment.js",[],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":8,"column":12,"nodeType":"85","messageId":"86","endLine":8,"endColumn":18},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"no-unused-vars","'errors' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]